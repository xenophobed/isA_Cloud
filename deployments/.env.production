# ============================================
# isA Platform Production Environment Configuration
# ============================================

# ============================================
# Environment Type
# ============================================
ENVIRONMENT=production
DEBUG=false

# ============================================
# AWS Configuration
# ============================================
AWS_REGION=us-east-1
AWS_ACCOUNT_ID=${AWS_ACCOUNT_ID}
AWS_ACCESS_KEY_ID=${AWS_ACCESS_KEY_ID}
AWS_SECRET_ACCESS_KEY=${AWS_SECRET_ACCESS_KEY}

# ============================================
# Service Discovery (AWS Cloud Map)
# ============================================
SERVICE_DISCOVERY_NAMESPACE=isa-platform.local
CONSUL_HOST=  # Not used in production, using AWS Cloud Map

# ============================================
# Database Configuration (AWS RDS/Supabase Cloud)
# ============================================
# Option 1: AWS RDS PostgreSQL
DATABASE_URL=${DATABASE_URL}

# Option 2: Supabase Cloud
SUPABASE_URL=${SUPABASE_URL}
SUPABASE_ANON_KEY=${SUPABASE_ANON_KEY}
SUPABASE_SERVICE_ROLE_KEY=${SUPABASE_SERVICE_ROLE_KEY}

# ============================================
# Message Queue (AWS MQ or Self-managed)
# ============================================
NATS_URL=${NATS_URL}
NATS_USER=${NATS_USER}
NATS_PASSWORD=${NATS_PASSWORD}

# ============================================
# Cache (AWS ElastiCache)
# ============================================
REDIS_URL=${REDIS_URL}
REDIS_PASSWORD=${REDIS_PASSWORD}

# ============================================
# Object Storage (AWS S3)
# ============================================
S3_BUCKET=${S3_BUCKET}
S3_REGION=${AWS_REGION}
S3_ENDPOINT=https://s3.${AWS_REGION}.amazonaws.com

# ============================================
# Blockchain (AWS Managed Blockchain or EC2)
# ============================================
BLOCKCHAIN_RPC_URL=${BLOCKCHAIN_RPC_URL}
CHAIN_ID=${CHAIN_ID}  # Mainnet or custom

# ============================================
# AI/ML Configuration
# ============================================
OPENAI_API_KEY=${OPENAI_API_KEY}
REPLICATE_API_TOKEN=${REPLICATE_API_TOKEN}
HF_TOKEN=${HF_TOKEN}

# ============================================
# External Services
# ============================================
AUTH0_DOMAIN=${AUTH0_DOMAIN}
AUTH0_CLIENT_ID=${AUTH0_CLIENT_ID}
AUTH0_CLIENT_SECRET=${AUTH0_CLIENT_SECRET}

STRIPE_API_KEY=${STRIPE_API_KEY}
STRIPE_WEBHOOK_SECRET=${STRIPE_WEBHOOK_SECRET}

BRAVE_TOKEN=${BRAVE_TOKEN}
RESEND_API_KEY=${RESEND_API_KEY}

SHOPIFY_STORE_DOMAIN=${SHOPIFY_STORE_DOMAIN}
SHOPIFY_STOREFRONT_ACCESS_TOKEN=${SHOPIFY_STOREFRONT_ACCESS_TOKEN}
SHOPIFY_ADMIN_API_KEY=${SHOPIFY_ADMIN_API_KEY}

# ============================================
# Security Configuration
# ============================================
JWT_SECRET_KEY=${JWT_SECRET_KEY}  # Store in AWS Secrets Manager
ENCRYPTION_KEY=${ENCRYPTION_KEY}  # Store in AWS Secrets Manager
MCP_API_KEY=${MCP_API_KEY}        # Store in AWS Secrets Manager
REQUIRE_MCP_AUTH=true

# ============================================
# Load Balancer Configuration
# ============================================
ALB_DNS_NAME=${ALB_DNS_NAME}
DOMAIN_NAME=${DOMAIN_NAME}
SSL_CERTIFICATE_ARN=${SSL_CERTIFICATE_ARN}

# ============================================
# Container Configuration (ECS/EKS)
# ============================================
ECS_CLUSTER_NAME=isa-platform-cluster
ECS_SERVICE_PREFIX=isa-
ECR_REGISTRY=${AWS_ACCOUNT_ID}.dkr.ecr.${AWS_REGION}.amazonaws.com

# ============================================
# Auto Scaling
# ============================================
MIN_INSTANCES=2
MAX_INSTANCES=10
TARGET_CPU_UTILIZATION=70
TARGET_MEMORY_UTILIZATION=80

# ============================================
# Logging & Monitoring
# ============================================
LOG_LEVEL=WARNING
LOG_FORMAT=json
CLOUDWATCH_LOG_GROUP=/ecs/isa-platform
ENABLE_METRICS=true
ENABLE_TRACING=true

# Datadog (optional)
DATADOG_API_KEY=${DATADOG_API_KEY}
DATADOG_APP_KEY=${DATADOG_APP_KEY}

# ============================================
# Performance Tuning
# ============================================
MAX_WORKERS=8
RATE_LIMIT_PER_HOUR=10000
REQUEST_TIMEOUT=30
PYTHONUNBUFFERED=1

# ============================================
# Backup Configuration
# ============================================
ENABLE_BACKUP=true
BACKUP_RETENTION_DAYS=30
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM